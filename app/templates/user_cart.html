{% extends "base.html" %}

{% block content %}

<!-- {% block scripts %}
  <script>
    $(document).ready(function () {
      $('#inventory').DataTable({
        "order": [[ 3, "desc" ]]
      });
    });
  </script>
{% endblock %} -->

<br>

<!-- <h2>{{ (user_cart | length) }} item(s) in user with ID {{uid}}'s cart:</h2>
<table id="cart" class='table table-hover table-bordered'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Seller ID</th>
      <th scope="col">Quantity</th>
      <th scope="col">Price</th>
    </tr>
  </thead>
  <tbody>
    {% for product in user_cart %}
      <tr>
        <td scope="row"><a href="{{ url_for('products.product', id=product.pid) }}">{{product.pid}}</a></td>
        <td>{{product.sid}}</td>
        <td>{{product.quantity}}</td>
        <td>{{product.price}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table> -->

<body>
  <h2>Shopping Cart</h2>
    <div class = "row">
      <div class="col">
        {% for product in user_cart %}
        <div class="row">
          <div class="row mb-4 d-flex justify-content-between align-items-center">
            <img src="{{product.img_url}}" class="img" alt="..." style = "display: block; max-width: 30%; height: auto;">
            <div class="col">
              <h5 class="">{{ product.name }}</h5>
              <p class="">{{ product.price }}</p>
              <p class="">{{ product.quantity }}</p>
              <a href="{{ url_for('products.product', id=product.pid) }}" class="btn btn-primary">View Product</a>
              <form action="{{ url_for('cart.delete_from_cart', pid=product.pid, sid=product.sellerid) }}" method="POST">
                <button type="submit" class="btn btn-danger">Remove from Cart</button>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="col">
        Total Price
      </div>
    </div>
</body>
{% endblock %}
